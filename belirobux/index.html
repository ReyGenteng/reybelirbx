<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Belirobux.xyz</title>
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
<style>
  body { background-color: #121515; color: white; font-family: sans-serif; }
  .method.selected { border-color: #f9a825 !important; }
</style>
</head>
<body>
<header class="bg-[#212b2c] flex items-center justify-between px-4 py-3">
  <button id="menuBtn" class="text-white text-2xl"><i class="fas fa-bars"></i></button>
  <span class="text-[#f9a825] font-extrabold text-lg select-none">BELIROBUX.XYZ</span>
</header>

<!-- Menu popup -->
<div id="menuPopup" class="hidden fixed top-14 left-4 bg-[#212b2c] rounded-lg shadow-lg w-48 z-50">
  <button onclick="window.location.href='https://belirobux.reyambon.xyz/invoice'" class="block w-full text-left px-4 py-2 hover:bg-[#2f3638]">Cek Pesanan</button>
</div>

<main class="px-5 py-4 space-y-5">

  <!-- Username -->
  <div>
    <label class="block mb-1 text-white text-base font-normal">Username:</label>
    <input id="username" class="w-full bg-[#2f3638] rounded-full py-3 px-5 text-white focus:outline-none" placeholder="Contoh: Rey123" type="text"/>
  </div>

  <!-- Jumlah Robux -->
  <div>
    <label class="block mb-1 text-white text-base font-normal">Jumlah Robux:</label>
    <input id="jumlah" class="w-full bg-[#2f3638] rounded-full py-3 px-5 text-white focus:outline-none" placeholder="R$" type="number" oninput="updatePrice()"/>
  </div>

  <!-- Harga -->
  <div>
    <label class="block mb-1 text-white text-base font-normal">Harga (Rp):</label>
    <input id="price" readonly class="w-full bg-[#2f3638] rounded-full py-3 px-5 text-white focus:outline-none"/>
  </div>

  <!-- Metode pembayaran -->
  <div>
    <label class="block mb-2 text-white text-base font-normal">Metode Pembayaran:</label>
    <div id="payment-methods" class="grid grid-cols-3 gap-3">
      <div class="method border border-[#2f3638] rounded-xl p-3 text-center cursor-pointer" data-method="QRIS">
        <img src="images/qris.png" class="w-12 h-12 mx-auto mb-2" alt="QRIS">
        <span class="block text-white text-sm">QRIS</span>
      </div>
      <div class="method border border-[#2f3638] rounded-xl p-3 text-center cursor-pointer" data-method="Dana">
        <img src="images/dana.png" class="w-12 h-12 mx-auto mb-2" alt="Dana">
        <span class="block text-white text-sm">Dana</span>
      </div>
      <div class="method border border-[#2f3638] rounded-xl p-3 text-center cursor-pointer" data-method="OVO">
        <img src="images/ovo.png" class="w-12 h-12 mx-auto mb-2" alt="OVO">
        <span class="block text-white text-sm">OVO</span>
      </div>
    </div>
  </div>

  <!-- Kupon -->
  <div>
    <label class="block mb-1 text-white text-base font-normal">Kode Kupon (opsional):</label>
    <input id="coupon" class="w-full bg-[#2f3638] rounded-full py-3 px-5 text-white focus:outline-none"/>
  </div>

  <!-- Tombol aksi -->
  <div class="flex gap-4 pb-6">
    <button onclick="window.location.href='https://help.reyambon.xyz'" class="flex-grow border border-[#f9a825] text-[#f9a825] font-extrabold rounded-full py-3 hover:bg-[#f9a825] hover:text-[#121515] transition-colors">
      Customer Service
    </button>
    <button onclick="beliSekarang()" class="flex-grow bg-[#7f6a3a] text-white font-extrabold rounded-full py-3 hover:bg-[#a3864f] transition-colors">
      Beli Sekarang
    </button>
  </div>

  <!-- Hasil -->
  <div id="hasil" class="hidden p-4 border border-[#2f3638] rounded-xl"></div>

</main>

<script>
let selectedMethod = "";

document.querySelectorAll(".method").forEach(div => {
  div.addEventListener("click", () => {
    document.querySelectorAll(".method").forEach(d => d.classList.remove("selected"));
    div.classList.add("selected");
    selectedMethod = div.getAttribute("data-method");
  });
});

document.getElementById("menuBtn").addEventListener("click", () => {
  const menu = document.getElementById("menuPopup");
  menu.classList.toggle("hidden");
});

function updatePrice(){
  const jumlah = parseInt(document.getElementById('jumlah').value);
  const priceInput = document.getElementById('price');
  if(isNaN(jumlah) || jumlah < 25){
    priceInput.value = '';
    return;
  }
  let hargaRobux = Math.ceil(jumlah / 20) * 2800;
  let biayaAdmin = 3000;
  let total = hargaRobux + biayaAdmin;
  priceInput.value = total.toLocaleString('id-ID');
}

function beliSekarang(){
  const username = document.getElementById('username').value.trim();
  const jumlah = parseInt(document.getElementById('jumlah').value);
  const coupon = document.getElementById('coupon').value.trim();
  const hasilDiv = document.getElementById('hasil');

  if(!username || isNaN(jumlah) || jumlah < 25){
    alert("Minimal pembelian 25 Robux dan isi username!");
    return;
  }
  if(!selectedMethod){
    alert("Pilih metode pembayaran!");
    return;
  }

  let hargaRobux = Math.ceil(jumlah / 20) * 2800;
  let biayaAdmin = 3000;
  let total = hargaRobux + biayaAdmin;
  if (coupon.toLowerCase() === "diskon") {
    total = Math.max(total - 1000, 0);
  }

  const gamepass = Math.ceil(jumlah / 0.7);

  hasilDiv.classList.remove("hidden");
  hasilDiv.innerHTML = `
    <p class="mb-3 text-[#f9a825] font-bold">Buat Gamepass senilai ${gamepass} Robux</p>
    <div class="flex flex-col gap-3">
      <button onclick="lanjut('${username}',${jumlah},'${selectedMethod}')" class="bg-[#7f6a3a] rounded-full py-3 font-bold hover:bg-[#a3864f]">Sudah Buat Gamepass</button>
      <button onclick="window.open('https://www.roblox.com/develop','_blank')" class="bg-[#7f6a3a] rounded-full py-3 font-bold hover:bg-[#a3864f]">Buat Gamepass</button>
      <button onclick="document.getElementById('hasil').classList.add('hidden')" class="bg-[#7f6a3a] rounded-full py-3 font-bold hover:bg-[#a3864f]">Kembali</button>
    </div>
  `;
}

function lanjut(username, jumlah, metode){
  const wa = `https://wa.me/6287887028120?text=Halo%20Kak,%20Saya%20${username}%20ingin%20topup%20${jumlah}%20Robux%20via%20${metode}`;
  window.location.href = wa;
}
</script>
</body>
            </html>
